<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hocus Focus - Mantente Enfocado</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
</head>

<body>
  <div class="app-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo">
        <img src="Icon-App.png" alt="Hocus Focus">
        <h1>Hocus Focus</h1>
      </div>

      <nav class="nav">
        <button class="nav-item active" data-view="dashboard">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          <span>Panel</span>
        </button>

        <button class="nav-item" data-view="schedules">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12 6 12 12 16 14"></polyline>
          </svg>
          <span>Horarios</span>
        </button>

        <button class="nav-item" data-view="blocklist">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
          </svg>
          <span>Bloqueos</span>
        </button>

        <button class="nav-item" data-view="settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path
              d="M12 1v6m0 6v6m5.66-13.66l-4.24 4.24m-2.83 2.83l-4.24 4.24m16.97-1.41l-6-6m-6-6l-6 6m16.97 8.49l-6-6m-6-6l-6 6">
            </path>
          </svg>
          <span>Ajustes</span>
        </button>
      </nav>

      <div class="sidebar-footer">
        <div class="status-badge" id="sidebar-status">
          <span class="status-dot"></span>
          <span>Inactivo</span>
        </div>
        <div class="next-session">
          <div class="next-session-label">Próxima Sesión</div>
          <div class="next-session-name" id="next-session-name">Sesión de Trabajo</div>
        </div>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Dashboard View -->
      <div class="view active" id="dashboard-view">
        <header class="view-header">
          <div>
            <h2>Panel de Control</h2>
            <p class="subtitle">Tus estadísticas de productividad</p>
          </div>
        </header>

        <div class="stats-cards">
          <div class="stat-card">
            <div class="stat-icon green">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
            </div>
            <div class="stat-content">
              <div class="stat-value" id="time-recovered">0.0</div>
              <div class="stat-label">Tiempo Recuperado</div>
              <div class="stat-sublabel">Horas ahorradas</div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon blue">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
              </svg>
            </div>
            <div class="stat-content">
              <div class="stat-value" id="sites-blocked">0</div>
              <div class="stat-label">Sitios Bloqueados</div>
              <div class="stat-sublabel">Distracciones evitadas</div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon purple">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2a10 10 0 1 0 10 10H12V2z"></path>
                <path d="M2 12a10 10 0 0 0 10 10V12H2z"></path>
              </svg>
            </div>
            <div class="stat-content">
              <div class="stat-value" id="focus-sessions">0</div>
              <div class="stat-label">Sesiones de Enfoque</div>
              <div class="stat-sublabel">Completadas</div>
            </div>
          </div>
        </div>

        <div class="chart-section">
          <div class="chart-header">
            <h3>Actividad de Enfoque</h3>
            <div class="chart-legend">
              <span>Menos</span>
              <div class="legend-scale">
                <div class="legend-item level-0"></div>
                <div class="legend-item level-1"></div>
                <div class="legend-item level-2"></div>
                <div class="legend-item level-3"></div>
                <div class="legend-item level-4"></div>
              </div>
              <span>Más</span>
            </div>
          </div>
          <div class="chart-container">
            <div id="contribution-graph" class="contribution-graph"></div>
          </div>
        </div>
      </div>

      <!-- Schedules View -->
      <div class="view" id="schedules-view">
        <header class="view-header">
          <div>
            <h2>Horarios de Enfoque</h2>
            <p class="subtitle">Define cuándo quieres bloquear distracciones</p>
          </div>
          <button class="btn-primary" id="add-schedule">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            Añadir Horario
          </button>
        </header>

        <div class="schedules-list" id="schedules-list">
          <!-- Los horarios se mostrarán aquí -->
        </div>
      </div>

      <!-- Blocklist View -->
      <div class="view" id="blocklist-view">
        <header class="view-header">
          <div>
            <h2>Lista de Bloqueo</h2>
            <p class="subtitle">Gestiona los sitios a bloquear durante el enfoque</p>
          </div>
          <button class="blocking-toggle" id="blocking-toggle">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path>
              <line x1="12" y1="2" x2="12" y2="12"></line>
            </svg>
            <div>
              <div class="toggle-title">Bloqueo Inactivo</div>
              <div class="toggle-subtitle">Toca para activar</div>
            </div>
          </button>
        </header>

        <div class="blocklist-input">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          <input type="text" id="site-input" placeholder="Introduce la URL (ej. facebook.com)">
          <button class="btn-add" id="add-site-btn">Añadir</button>
        </div>

        <div class="search-box">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="m21 21-4.35-4.35"></path>
          </svg>
          <input type="text" id="search-sites" placeholder="Buscar sitios bloqueados...">
        </div>

        <div class="sites-list" id="sites-list">
          <!-- Los sitios se mostrarán aquí -->
        </div>

        <div class="quick-add">
          <h4>Añadido Rápido</h4>
          <div class="quick-add-buttons" id="quick-add-buttons">
            <!-- Los botones se mostrarán aquí -->
          </div>
        </div>
      </div>

      <!-- Settings View -->
      <div class="view" id="settings-view">
        <header class="view-header">
          <div>
            <h2>Ajustes</h2>
            <p class="subtitle">Configura tus preferencias</p>
          </div>
        </header>

        <div class="settings-section">
          <h3>General</h3>

          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-title">Iniciar al entrar</div>
              <div class="setting-description">Inicia Hocus Focus automáticamente al iniciar sesión</div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="launch-at-login">
              <span class="toggle-slider"></span>
            </label>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-title">Notificaciones</div>
              <div class="setting-description">Recibe avisos al iniciar y terminar sesiones</div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="show-notifications" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-title">Modo Estricto</div>
              <div class="setting-description">Evita desactivar el bloqueo durante las sesiones activas</div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="strict-mode">
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>

        <div class="settings-section">
          <h3>Bloqueo</h3>

          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-title">Método de Bloqueo</div>
              <div class="setting-description">Usa el archivo hosts para un bloqueo fiable</div>
            </div>
            <div class="status-check">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2">
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
            </div>
          </div>

          <button class="btn-admin" id="grant-admin">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
            </svg>
            Conceder Acceso Admin
          </button>
        </div>

        <div class="settings-section">
          <h3>Temporizador</h3>

          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-title">Desactivación con Retraso</div>
              <div class="setting-description">Tiempo de espera antes de desactivar el bloqueo</div>
            </div>
            <select id="timer-duration" class="setting-select">
              <option value="5">5 minutos</option>
              <option value="10">10 minutos</option>
              <option value="15" selected>15 minutos</option>
              <option value="30">30 minutos</option>
              <option value="60">60 minutos</option>
            </select>
          </div>
        </div>

        <div class="settings-section">
          <h3>Gestión de Datos</h3>

          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-title">Exportar Datos</div>
              <div class="setting-description">Guarda tu configuración y estadísticas en un archivo JSON</div>
            </div>
            <button class="btn-secondary" id="export-data">Exportar</button>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-title">Importar Datos</div>
              <div class="setting-description">Carga tu configuración desde un archivo previamente exportado</div>
            </div>
            <button class="btn-secondary" id="import-data">Importar</button>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-title">Eliminar Datos</div>
              <div class="setting-description">Borra permanentemente todos los datos, horarios y estadísticas</div>
            </div>
            <button class="btn-danger" id="clear-app-data">Eliminar Todo</button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Schedule Modal -->
  <div class="modal" id="schedule-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Añadir Horario</h3>
        <button class="modal-close" id="close-schedule-modal">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <form id="schedule-form">
          <div class="form-group">
            <label>Nombre del Horario</label>
            <input type="text" id="schedule-name" placeholder="ej. Sesión de Trabajo" required>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Hora Inicio</label>
              <div class="time-input">
                <input type="number" id="start-hour" min="0" max="23" placeholder="HH" required>
                <span>:</span>
                <input type="number" id="start-minute" min="0" max="59" placeholder="MM" required>
              </div>
            </div>

            <div class="form-group">
              <label>Hora Fin</label>
              <div class="time-input">
                <input type="number" id="end-hour" min="0" max="23" placeholder="HH" required>
                <span>:</span>
                <input type="number" id="end-minute" min="0" max="59" placeholder="MM" required>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>Días</label>
            <div class="days-selector">
              <label class="day-checkbox">
                <input type="checkbox" value="0">
                <span>Dom</span>
              </label>
              <label class="day-checkbox">
                <input type="checkbox" value="1">
                <span>Lun</span>
              </label>
              <label class="day-checkbox">
                <input type="checkbox" value="2">
                <span>Mar</span>
              </label>
              <label class="day-checkbox">
                <input type="checkbox" value="3">
                <span>Mié</span>
              </label>
              <label class="day-checkbox">
                <input type="checkbox" value="4">
                <span>Jue</span>
              </label>
              <label class="day-checkbox">
                <input type="checkbox" value="5">
                <span>Vie</span>
              </label>
              <label class="day-checkbox">
                <input type="checkbox" value="6">
                <span>Sáb</span>
              </label>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" id="cancel-schedule">Cancelar</button>
            <button type="submit" class="btn-primary">Guardar Horario</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Timer Modal -->
  <div class="modal" id="timer-modal">
    <div class="modal-content timer-modal-content">
      <div class="timer-display">
        <div class="timer-icon">⏱️</div>
        <h3>Temporizador de Desactivación</h3>
        <p class="timer-description">Por favor, espera a que termine el tiempo</p>
        <div class="timer-countdown" id="timer-countdown">15:00</div>
        <button class="btn-secondary" id="cancel-timer">Cancelar Temporizador</button>
      </div>
    </div>
  </div>

  <!-- Detail Modal -->
  <div class="modal" id="detail-modal">
    <div class="modal-content detail-modal-content">
      <div class="modal-header">
        <h3 id="detail-title">Detalle de Actividad</h3>
        <button class="modal-close" id="close-detail-modal">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="detail-info">
          <div class="detail-item">
            <div class="detail-label">Tiempo Ahorrado</div>
            <div class="detail-value" id="detail-time-saved">0.0 horas</div>
          </div>
          <div class="detail-item">
            <div class="detail-label">Estado</div>
            <div class="detail-value" id="detail-status">Productivo</div>
          </div>
        </div>
        <div class="detail-chart-placeholder" id="detail-description">
          Información detallada para este período.
        </div>
        <div class="form-actions">
          <button type="button" class="btn-primary" id="ok-detail">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>

</html>